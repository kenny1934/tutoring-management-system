-- Academic Calendar 2025-2026 - Starting Sept 1st
-- Populates academic_weeks table for curriculum suggestions

-- Create academic_weeks table if it doesn't exist
CREATE TABLE IF NOT EXISTS academic_weeks (
    id INT AUTO_INCREMENT PRIMARY KEY,
    academic_year VARCHAR(10) NOT NULL,
    week_number INT NOT NULL,
    week_start_date DATE NOT NULL,
    week_end_date DATE NOT NULL,
    UNIQUE KEY unique_year_week (academic_year, week_number),
    INDEX idx_date_range (week_start_date, week_end_date),
    INDEX idx_lookup (academic_year, week_number)
) COMMENT 'Academic calendar for curriculum week matching';

-- Clear any existing 2025-2026 data
DELETE FROM academic_weeks WHERE academic_year = '2025-2026';

-- Insert 2025-2026 academic calendar starting Sept 1st
INSERT INTO academic_weeks (academic_year, week_number, week_start_date, week_end_date) VALUES
('2025-2026', 1, '2025-09-01', '2025-09-07'),
('2025-2026', 2, '2025-09-08', '2025-09-14'),
('2025-2026', 3, '2025-09-15', '2025-09-21'),
('2025-2026', 4, '2025-09-22', '2025-09-28'),
('2025-2026', 5, '2025-09-29', '2025-10-05'),
('2025-2026', 6, '2025-10-06', '2025-10-12'),
('2025-2026', 7, '2025-10-13', '2025-10-19'),
('2025-2026', 8, '2025-10-20', '2025-10-26'),
('2025-2026', 9, '2025-10-27', '2025-11-02'),
('2025-2026', 10, '2025-11-03', '2025-11-09'),
('2025-2026', 11, '2025-11-10', '2025-11-16'),
('2025-2026', 12, '2025-11-17', '2025-11-23'),
('2025-2026', 13, '2025-11-24', '2025-11-30'),
('2025-2026', 14, '2025-12-01', '2025-12-07'),
('2025-2026', 15, '2025-12-08', '2025-12-14'),
('2025-2026', 16, '2025-12-15', '2025-12-21'),
('2025-2026', 17, '2025-12-22', '2025-12-28'),
('2025-2026', 18, '2025-12-29', '2026-01-04'),
('2025-2026', 19, '2026-01-05', '2026-01-11'),
('2025-2026', 20, '2026-01-12', '2026-01-18'),
('2025-2026', 21, '2026-01-19', '2026-01-25'),
('2025-2026', 22, '2026-01-26', '2026-02-01'),
('2025-2026', 23, '2026-02-02', '2026-02-08'),
('2025-2026', 24, '2026-02-09', '2026-02-15'),
('2025-2026', 25, '2026-02-16', '2026-02-22'),
('2025-2026', 26, '2026-02-23', '2026-03-01'),
('2025-2026', 27, '2026-03-02', '2026-03-08'),
('2025-2026', 28, '2026-03-09', '2026-03-15'),
('2025-2026', 29, '2026-03-16', '2026-03-22'),
('2025-2026', 30, '2026-03-23', '2026-03-29'),
('2025-2026', 31, '2026-03-30', '2026-04-05'),
('2025-2026', 32, '2026-04-06', '2026-04-12'),
('2025-2026', 33, '2026-04-13', '2026-04-19'),
('2025-2026', 34, '2026-04-20', '2026-04-26'),
('2025-2026', 35, '2026-04-27', '2026-05-03'),
('2025-2026', 36, '2026-05-04', '2026-05-10'),
('2025-2026', 37, '2026-05-11', '2026-05-17'),
('2025-2026', 38, '2026-05-18', '2026-05-24'),
('2025-2026', 39, '2026-05-25', '2026-05-31'),
('2025-2026', 40, '2026-06-01', '2026-06-07'),
('2025-2026', 41, '2026-06-08', '2026-06-14'),
('2025-2026', 42, '2026-06-15', '2026-06-21'),
('2025-2026', 43, '2026-06-22', '2026-06-28'),
('2025-2026', 44, '2026-06-29', '2026-07-05'),
('2025-2026', 45, '2026-07-06', '2026-07-12'),
('2025-2026', 46, '2026-07-13', '2026-07-19'),
('2025-2026', 47, '2026-07-20', '2026-07-26'),
('2025-2026', 48, '2026-07-27', '2026-08-02'),
('2025-2026', 49, '2026-08-03', '2026-08-09'),
('2025-2026', 50, '2026-08-10', '2026-08-16'),
('2025-2026', 51, '2026-08-17', '2026-08-23'),
('2025-2026', 52, '2026-08-24', '2026-08-30');

-- Verify data was inserted correctly
SELECT 
    COUNT(*) as total_weeks,
    MIN(week_start_date) as academic_year_start,
    MAX(week_end_date) as academic_year_end,
    academic_year
FROM academic_weeks 
WHERE academic_year = '2025-2026'
GROUP BY academic_year;