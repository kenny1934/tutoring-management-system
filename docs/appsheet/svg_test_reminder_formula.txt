IF([_test_count] = 0, "", CONCATENATE("data:image/svg+xml;charset=utf-8,<svg xmlns=""http://www.w3.org/2000/svg"" viewBox=""0 0 ", IF(CONTEXT("Host") = "Browser", "480", "320"), " ", IF([_test_count] = 0, "60", TEXT(60 + IF([_test_count] > 1, 1, [_test_count]) * 75)), """><rect width=""100%"" height=""100%"" rx=""8"" fill=""%232a2a2a""/><rect width=""100%"" height=""30"" rx=""8"" fill=""%23A51C30""/><rect y=""24"" width=""100%"" height=""6"" fill=""%232a2a2a""/><g transform=""translate(8, 5) scale(0.028)""><path d=""m357.071 87.929-85-85C270.159 1.017 267.601.025 265 .024V0H10C4.477 0 0 4.477 0 10v470c0 5.523 4.477 10 10 10h340c5.523 0 10-4.477 10-10V95h-.024c-.001-2.601-.993-5.159-2.905-7.071M275 34.142 325.858 85H275zM340 470H20V20h235v75c0 5.523 4.477 10 10 10h75zm130-235v155h-15V120h-.012a10 10 0 0 0-.757-3.846l-25-60a10 10 0 0 0-18.462 0l-25 60a10 10 0 0 0-.757 3.846H385v360c0 5.523 4.477 10 10 10h50c5.523 0 10-4.477 10-10v-70h25c5.523 0 10-4.477 10-10V235zM420 86l10 24h-20zm15 384h-30v-60h30zm0-80h-30V130h30zM125 135H75c-5.523 0-10 4.477-10 10v50c0 5.523 4.477 10 10 10h50c5.523 0 10-4.477 10-10v-50c0-5.523-4.477-10-10-10m-10 50H85v-30h30zm10 60H75c-5.523 0-10 4.477-10 10v50c0 5.523 4.477 10 10 10h50c5.523 0 10-4.477 10-10v-50c0-5.523-4.477-10-10-10m-10 50H85v-30h30zm10 60H75c-5.523 0-10 4.477-10 10v50c0 5.523 4.477 10 10 10h50c5.523 0 10-4.477 10-10v-50c0-5.523-4.477-10-10-10m-10 50H85v-30h30zm35-265h50v20h-50zm0 40h135v20H150zm0 70h50v20h-50zm0 40h135v20H150zm0 70h50v20h-50zm0 40h135v20H150z"" fill=""white""/></g><text x=""28"" y=""16"" font-family=""Arial"" font-size=""14"" font-weight=""600"" fill=""white"">Upcoming Tests and Exams</text>", IF([_test_count] > 0, CONCATENATE("<g transform=""translate(12, 40)"">", IF(ISNOTBLANK([_test_1_date]), CONCATENATE("<circle cx=""10"" cy=""10"" r=""6"" fill=""", SWITCH([_test_1_category], "Test", "%23FF4444", "Exam", "%239C27B0", "Quiz", "%234CAF50", "%23666666"), """/><text x=""24"" y=""10"" font-family=""Arial"" font-size=""14"" font-weight=""600"" fill=""", SWITCH([_test_1_category], "Test", "%23FF4444", "Exam", "%239C27B0", "Quiz", "%234CAF50", "%23666666"), """>", [_test_1_category], "</text><text x=""70"" y=""10"" font-family=""Arial"" font-size=""14"" fill=""white"">", TEXT([_test_1_date], "dd/mm/yyyy (ddd)"), "</text><text x=""", IF(CONTEXT("Host") = "Browser", "220", "190"), """ y=""10"" font-family=""Arial"" font-size=""13"" fill=""", IF([_test_1_days_until] < 3, "%23FF4444", IF([_test_1_days_until] <= 7, "%23FF9800", "%23FFC107")), """>(In ", TEXT([_test_1_days_until]), IF([_test_1_days_until] = 1, " day)", " days)"), "</text><text x=""24"" y=""36"" font-family=""Arial"" font-size=""16"" font-weight=""500"" fill=""white"">", IF(LEN([_test_1_title]) > IF(CONTEXT("Host") = "Browser", 55, 35), CONCATENATE(LEFT([_test_1_title], IF(CONTEXT("Host") = "Browser", 52, 32)), "..."), [_test_1_title]), "</text><text x=""24"" y=""56"" font-family=""Arial"" font-size=""13"" fill=""%23A0A0A0""><tspan x=""24"" dy=""0"">", LEFT(IF(ISNOTBLANK([_test_1_description]), [_test_1_description], "No description"), IF(CONTEXT("Host") = "Browser", IF([student_id].[lang_stream] = "C", 45, 65), IF([student_id].[lang_stream] = "C", 30, 45))), "</tspan>", IF(LEN(IF(ISNOTBLANK([_test_1_description]), [_test_1_description], "No description")) > IF(CONTEXT("Host") = "Browser", IF([student_id].[lang_stream] = "C", 45, 65), IF([student_id].[lang_stream] = "C", 30, 45)), CONCATENATE("<tspan x=""24"" dy=""15"">", IF(LEN(IF(ISNOTBLANK([_test_1_description]), [_test_1_description], "No description")) > IF(CONTEXT("Host") = "Browser", IF([student_id].[lang_stream] = "C", 90, 130), IF([student_id].[lang_stream] = "C", 60, 90)), CONCATENATE(LEFT(MID(IF(ISNOTBLANK([_test_1_description]), [_test_1_description], "No description"), IF(CONTEXT("Host") = "Browser", IF([student_id].[lang_stream] = "C", 46, 66), IF([student_id].[lang_stream] = "C", 31, 46)), IF(CONTEXT("Host") = "Browser", IF([student_id].[lang_stream] = "C", 45, 65), IF([student_id].[lang_stream] = "C", 30, 45))), IF(CONTEXT("Host") = "Browser", IF([student_id].[lang_stream] = "C", 42, 62), IF([student_id].[lang_stream] = "C", 27, 42))), "..."), MID(IF(ISNOTBLANK([_test_1_description]), [_test_1_description], "No description"), IF(CONTEXT("Host") = "Browser", IF([student_id].[lang_stream] = "C", 46, 66), IF([student_id].[lang_stream] = "C", 31, 46)), IF(CONTEXT("Host") = "Browser", IF([student_id].[lang_stream] = "C", 45, 65), IF([student_id].[lang_stream] = "C", 30, 45)))), "</tspan>"), ""), "</text>"), ""), "</g>"), CONCATENATE("<text x=""", IF(CONTEXT("Host") = "Browser", "240", "160"), """ y=""40"" font-family=""Arial"" font-size=""14"" text-anchor=""middle"" fill=""%23A0A0A0"">No upcoming tests or exams</text>")), "</svg>"))